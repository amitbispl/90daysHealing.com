<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">
    $(function () {
        $("[id*=btnSend]").click(function () {
            var toEmail = $.trim($("[id*=txtTo]").val());
            var subject = $.trim($("[id*=txtSubject]").val());
            var body = $.trim($("[id*=txtBody]").val());
            $.ajax({
                type: "POST",
                url: "Email.asmx/SendEmail",
                data: "{ toEmail: '" + toEmail + "', subject: '" + subject + "', body: '" + body + "' }",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (r) {
                    alert(r.d);
                },
                error: function (r) {
                    alert(r.responseText);
                },
                failure: function (r) {
                    alert(r.responseText);
                }
            });
            return false;
        });
    });
    </script>
</head>
<body>
    <table border="0" cellpadding="0" cellspacing="0">
        <tr>
            <td>To:</td>
            <td><asp:TextBox ID="txtTo"  /></td>
        </tr>
        <tr>
            <td>Subject:</td>
            <td><asp:TextBox ID="txtSubject" /></td>
        </tr>
        <tr>
            <td valign="top">Body:</td>
            <td><asp:TextBox ID="txtBody" TextMode="MultiLine" Height="150" Width="200" /></td>
        </tr>
        <tr>
            <td></td>
            <td><asp:Button ID="btnSend" Text="Send" /></td>
        </tr>
    </table>
</body>
</html>
